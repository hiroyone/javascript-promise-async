<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Async Await Simple</h2>

<p id="promise-demo"></p>

<script>

// async returns promise
async function myDisplayer(some) {
    document.getElementById("promise-demo").innerHTML = some;
    }

let myPromise = () => new Promise(function(myResolve, myReject) {
    let x
    
    setTimeout(function(){
    // 0 or 1 with equal probability
    x = Math.round(Math.random())
    if (x == 0) {
        myResolve("OK");
    } else {
        myReject("Error");
    }
    }, 1000);
});

// Execute async function
(async () => {

    try {
        // await is used only inside async and for promise 
        let response = await myPromise();
        await myDisplayer(response);
    } catch(error) {
        await myDisplayer(error);
    }


})();

</script>

</body>
</html>
